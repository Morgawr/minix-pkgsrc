$NetBSD$

--- grep.c.orig	Tue Dec 30 12:39:43 2008
+++ grep.c
@@ -152,7 +152,7 @@ gid(int f, int n)
 	/* Skip backwards over delimiters we are currently on */
 	while (i > 0) {
 		c = lgetc(curwp->w_dotp, i);
-		if (isalnum(c) || c == '_')
+		if (isalnum((unsigned char)c) || c == '_')
 			break;
 
 		i--;
@@ -161,14 +161,14 @@ gid(int f, int n)
 	/* Skip the symbol itself */
 	for (; i > 0; i--) {
 		c = lgetc(curwp->w_dotp, i - 1);
-		if (!isalnum(c) && c != '_')
+		if (!isalnum((unsigned char)c) && c != '_')
 			break;
 	}
 	/* Fill the symbol in cprompt[] */
 	for (j = 0; j < sizeof(cprompt) - 1 && i < llength(curwp->w_dotp);
 	    j++, i++) {
 		c = lgetc(curwp->w_dotp, i);
-		if (!isalnum(c) && c != '_')
+		if (!isalnum((unsigned char)c) && c != '_')
 			break;
 		cprompt[j] = c;
 	}
